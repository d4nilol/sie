<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:sie="http://java.sun.com/jsf/composite/sie"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
<h:head>
    <f:loadBundle var="msg" basename="message"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1"></meta>

    <title>
        SIE - Sistema Integrado de Educação
    </title>

    <h:outputStylesheet library="sie" name="/css/style.css"/>
    <h:outputStylesheet library="font-awesome" name="/css/font-awesome.css"/>
    <h:outputStylesheet library="select2" name="/css/select2.css"/>
    <h:outputStylesheet library="select2" name="/css/select2-bootstrap.css"/>
    <h:outputStylesheet library="datepicker" name="/css/bootstrap-datepicker.css"/>
    <h:outputStylesheet library="switch" name="/css/bootstrap3/bootstrap-switch.min.css"/>
    <h:outputStylesheet library="bootstrap" name="/css/bootstrap.css"/>
    <h:outputStylesheet library="datatables" name="/css/datatables.min.css"/>
    <h:outputStylesheet library="datatables" name="/css/responsive.bootstrap.min.css"/>

    <h:outputScript library="jquery" name="/js/jquery-2.1.4.min.js"/>
    <h:outputScript library="jquery" name="/js/jquery.mask.min.js"/>
    <h:outputScript library="bootstrap" name="/js/bootstrap.min.js"/>
    <h:outputScript library="select2" name="/js/select2.min.js"/>
    <h:outputScript library="select2" name="/js/select2_locale_pt-BR.js"/>
    <h:outputScript library="datepicker" name="/js/bootstrap-datepicker.min.js"/>
    <h:outputScript library="datepicker" name="/locales/bootstrap-datepicker.pt-BR.min.js"/>
    <h:outputScript library="switch" name="/js/bootstrap-switch.min.js"/>
    <h:outputScript library="datatables" name="/js/datatables.min.js"/>

    <ui:insert name="head"/>

</h:head>
<h:body>
    <h:form styleClass="nav-form">
        <div style="display: block;height: 100px; margin: 0px 0px; background-color: #337AB7;">
            <a jsf:action="/view/index.xhtml?faces-redirect=true">
                <h:graphicImage value="#{resource['/sie/img/SIE.png']}" styleClass="invert"
                                style="max-width: 120px; margin-top: -15px; margin-left: 30px;"/>
                <!--<h:graphicImage value="#{resource['/sie/img/iesb.png']}"-->
                <!--style="max-width: 140px; margin-top: 10px; margin-right: -20px; float: right"/>-->
            </a>
        </div>
        <!-- Static navbar -->
        <div class="navbar-wrapper">
            <div class="navbar navbar-default navbar-static-top navbar-sie">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                                data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>

                    </div>
                    <div id="navbar" class="navbar-collapse collapse">
                        <ul class="nav navbar-nav">
                            <li class="dropdown"
                                jsf:rendered="#{not empty usuarioLogado.entidade and usuarioLogado.escola}">
                                <a class="dropdown-toggle" data-toggle="dropdown" role="button"
                                   aria-haspopup="true"
                                   aria-expanded="false">Escola<span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a jsf:action="/view/escola/funcionarios/listar.xhtml?faces-redirect=true"><span
                                            class="fa fa-users fa-fw"></span> Funcionários</a></li>
                                </ul>
                            </li>
                            <li class="dropdown"
                                jsf:rendered="#{not empty usuarioLogado.entidade and (usuarioLogado.secretaria or usuarioLogado.escola)}">
                                <a class="dropdown-toggle" data-toggle="dropdown" role="button"
                                   aria-haspopup="true"
                                   aria-expanded="false">Secretaria<span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a jsf:action="/view/secretaria/turma/listar.xhtml?faces-redirect=true">
                                            <span class="fa fa-users fa-fw"></span>
                                            Turmas
                                        </a>
                                    </li>
                                    <li>
                                        <a jsf:action="/view/secretaria/matricula/listar.xhtml?faces-redirect=true">
                                            <span class="fa fa-edit fa-fw"></span>Matrícula</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="dropdown"
                                jsf:rendered="#{not empty usuarioLogado.entidade and ( usuarioLogado.professor or usuarioLogado.escola or usuarioLogado.secretaria) }">
                                <a class="dropdown-toggle" data-toggle="dropdown" role="button"
                                   aria-haspopup="true"
                                   aria-expanded="false">Discente<span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a jsf:action="/view/professor/frequencia/listar.xhtml?faces-redirect=true">
                                            <span class="fa fa-th-list fa-fw"></span>Frequência
                                        </a>
                                    </li>
                                    <li>
                                        <a jsf:action="/view/professor/nota/listar.xhtml?faces-redirect=true">
                                            <span class="fa fa-mortar-board fa-fw"></span>Notas
                                        </a>
                                    </li>
                                    <li>
                                        <a jsf:action="/view/professor/relatorio/listar.xhtml?faces-redirect=true">
                                            <span class="fa fa-file-text fa-fw"></span>Relátorio Escolar
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="dropdown"
                                jsf:rendered="#{not empty usuarioLogado.entidade and usuarioLogado.aluno}">
                                <a class="dropdown-toggle" data-toggle="dropdown" role="button"
                                   aria-haspopup="true"
                                   aria-expanded="false">Documentos Eletrônicos<span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a jsf:action="/view/documentos/boletim.xhtml?faces-redirect=true">
                                        <span class="fa fa-file-text-o fa-fw"></span>Boletim Escolar</a>
                                    </li>
                                    <li jsf:rendered="#{usuarioLogado.aluno}">
                                        <a jsf:action="/view/documentos/passe.xhtml?faces-redirect=true">
                                            <span class="fa fa-bus fa-fw"></span>Declaração de Passe
                                        </a>
                                    </li>
                                    <li jsf:rendered="#{usuarioLogado.aluno}">
                                        <a jsf:action="/view/documentos/historico.xhtml?faces-redirect=true">
                                            <span class="fa fa-file-text-o fa-fw"></span>Histórico Escolar
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="dropdown" jsf:rendered="#{not empty usuarioLogado.entidade}">
                                <a class="dropdown-toggle" data-toggle="dropdown" role="button"
                                   aria-haspopup="true"
                                   aria-expanded="false">Análise Estatística<span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a jsf:action="/view/analise/frequencia.xhtml?faces-redirect=true">
                                            <span class="fa fa-bar-chart fa-fw"></span>#{msg['label.frequencia']}
                                        </a>
                                    </li>
                                    <li>
                                        <a jsf:action="/view/analise/nota.xhtml?faces-redirect=true">
                                            <span class="fa fa-bar-chart fa-fw"></span>#{msg['label.nota']}
                                        </a>
                                    </li>
                                    <li>
                                        <a jsf:action="/view/analise/frequenciaNota.xhtml?faces-redirect=true">
                                            <span class="fa fa-bar-chart fa-fw"></span>#{msg['label.nota.frequencia']}
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                        <ul class="nav navbar-nav navbar-right">
                            <li jsf:rendered="#{empty usuarioLogado.entidade}">
                                <a jsf:action="/public/login.xhtml?faces-redirect=true">
                                    Entrar
                                </a>
                            </li>
                            <li jsf:rendered="#{not empty usuarioLogado.entidade}">
                                <a class="dropdown-toggle" data-toggle="dropdown" role="button"
                                   aria-haspopup="true" aria-expanded="false">
                                    #{usuarioLogado.entidade.primeiroNome}<span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-right">
                                    <li>
                                        <a jsf:action="/view/usuario/configuracoes.xhtml?faces-redirect=true">
                                            <span class="fa fa-gears fa-fw"></span>Configurações
                                        </a>
                                    </li>
                                    <li>
                                        <a jsf:action="#{usuarioLogado.logout()}">
                                            <span class="fa fa-sign-out fa-fw"></span>Sair
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </h:form>

    <div class="container-fluid">
        <div class="ajaxloaderContainer" style="display: none">
            <div class='ajaxloader'>
                <sie:panel>
                    Carregando
                    <img alt="#" src="#{resource['images/ajax-loader.gif']}"/>
                </sie:panel>
            </div>
        </div>
        <ui:insert name="body"/>
        <h:outputScript library="sie" name="/js/sie.js"/>

    </div>
</h:body>
</html>
